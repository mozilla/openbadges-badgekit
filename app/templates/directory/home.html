{% extends "directory/layout.html" %}
{% block content %}
  <div class="container clearfix">
      {% if notification == 'published' %}
        <div class="notification"><p>Your badge has been published.</p></div>
      {% elif notification == 'created' %}
        <div class="notification"><p>Your badge has been created.</p></div>
      {% elif notification == 'archived' %}
        <div class="notification"><p>Your badge has been archived.</p></div>
      {% elif notification == 'saved' %}
        <div class="notification"><p>Your badge has been saved.</p></div>
      {% endif %}
      {% if category == 'template' %}
      <section class="info">
        <h1 class="info-heading">Templates</h1>
        <p class="info-text">Use templates to create great new badges quickly. Create and edit your own templates and tailor draft badges to your programs and vision.</p>
      </section>
      {% endif %}

      {% if category == 'draft' %}
      <section class="info">
        <h1 class="info-heading">Drafts</h1>
        <p class="info-text">Work on draft badges. Define badge criteria and visuals, then publish when you're ready.</p>
      </section>
      {% endif %}

      {% if category == 'published' %}
      <section class="info">
        <h1 class="info-heading">Published</h1>
        <p class="info-text">Manage and issue your published badges.</p>
      </section>
      {% endif %}

      {% if category == 'archived' %}
      <section class="info">
        <h1 class="info-heading">Archived</h1>
        <p class="info-text">Manage inactive badges no longer being issued.</p>
      </section>
      {% endif %}

      <!-- begin THIS GOES IN THE APPLICATION HOME ROUTE -->
      <section class="application-pending-info">
        <span class="pending-info-heading">Find an APPLICANT, then remix it!</span><span class="templates-info-text"> Templates are guides to help you create unique badges. A few designs are featured below. They are editable, all the way from the metadata information to the featured image. Browse the options below to start working within one of the existing styles. You can modify the template you choose to align it with your vision. Or you can make a template from scratch by clicking the "Add a new template" button below.</span>
      </section>

      <section class="approval-section">
        <section class="badges-for-approval clearfix">
          <img class="badgethumb left" src="http://www.lns.cornell.edu/Resources/DesignServices/rsrc/LEPP/Resources/DesignServices/CommonLogos/Cornell_Seal_Black.png">
          <h2 class="pending-badge-title">A Shield of Approval</h2>
          <p class="badge-approval-status left">Queue <a href="" class="number-of-badges">27</a></p>
          <p class="badge-approval-status left">Applied <a href="" class="number-of-badges">85</a></p>
          <p class="badge-approval-status left">Awarded <a href="" class="number-of-badges">10</a></p>
        </section>

        <section class="pending-list-table">
          <div class="pending-cell email-cell">email-1@email.com</div>
          <div class="pending-cell">February 14th, 2014</div>
          <div class="pending-cell">Saved</div>
          <div class="pending-cell"><a href="" class="btn pending-btn">Sensitive</a></div>
        </section>

        <section class="pending-list-table">
          <div class="pending-cell email-cell">email-2@email.com</div>
          <div class="pending-cell">February 14th, 2014</div>
          <div class="pending-cell">Saved</div>
          <div class="pending-cell"><a href="" class="btn pending-btn">Sensitive</a></div>
        </section>

        <section class="pending-list-table">
          <div class="pending-cell email-cell">email-3@email.com</div>
          <div class="pending-cell">February 14th, 2014</div>
          <div class="pending-cell">Saved</div>
          <div class="pending-cell"><a href="" class="btn pending-btn">Sensitive</a></div>
        </section>

        <section class="pending-list-table">
          <div class="pending-cell email-cell">email-4@email.com</div>
          <div class="pending-cell">February 14th, 2014</div>
          <div class="pending-cell">Saved</div>
          <div class="pending-cell"><a href="" class="btn pending-btn">Sensitive</a></div>
        </section>
      </section>

      <section class="approval-section">
        <section class="badges-for-approval clearfix">
          <img class="badgethumb left" src="http://www.lns.cornell.edu/Resources/DesignServices/rsrc/LEPP/Resources/DesignServices/CommonLogos/Cornell_Seal_Black.png">
          <h2 class="pending-badge-title">B Shield of Approval</h2>
          <p class="badge-approval-status left">Queue <a href="" class="number-of-badges">27</a></p>
          <p class="badge-approval-status left">Applied <a href="" class="number-of-badges">85</a></p>
          <p class="badge-approval-status left">Awarded <a href="" class="number-of-badges">10</a></p>
        </section>

        <section class="pending-list-table">
          <div class="pending-cell email-cell">email-1@email.com</div>
          <div class="pending-cell">February 14th, 2014</div>
          <div class="pending-cell">Saved</div>
          <div class="pending-cell pending-"><a href="" class="btn pending-btn">Sensitive</a></div>
        </section>

        <section class="pending-list-table">
          <div class="pending-cell email-cell">email-2@email.com</div>
          <div class="pending-cell">February 14th, 2014</div>
          <div class="pending-cell">Saved</div>
          <div class="pending-cell"><a href="" class="btn pending-btn">Sensitive</a></div>
        </section>

        <section class="pending-list-table">
          <div class="pending-cell email-cell">email-3@email.com</div>
          <div class="pending-cell">February 14th, 2014</div>
          <div class="pending-cell">Saved</div>
          <div class="pending-cell"><a href="" class="btn pending-btn">Sensitive</a></div>
        </section>

        <section class="pending-list-table">
          <div class="pending-cell email-cell">email-4@email.com</div>
          <div class="pending-cell">February 14th, 2014</div>
          <div class="pending-cell">Saved</div>
          <div class="pending-cell"><a href="" class="btn pending-btn">Sensitive</a></div>
        </section>
      </section>

      <!-- end THIS GOES IN THE APPLICATION HOME ROUTE -->
      <nav class="nav-header">
        <ul class="navigation-dropdown right">
          <li class="menu-item sort-menu">
            Sort badges <i class="fa fa-caret-down"></i>
            <ul class="menu-hover sort-menu-hover">
              <a href="{{ url('directory') }}?category={{ category }}&sort=name"><li>Name</li></a>
              <a href="{{ url('directory') }}?category={{ category }}&sort=applications"><li>Applications</li></a>
              <a href="{{ url('directory') }}?category={{ category }}&sort=awarded"><li>Awarded</li></a>
              <a href="{{ url('directory') }}?category={{ category }}&sort=dateactive"><li>Date Active</li></a>
              <a href="{{ url('directory') }}?category={{ category }}&sort=datecreated"><li>Date Created</li></a>
            </ul>
          </li>
        </ul>
      </nav>

      <section class="directory-container js-masonry-container cb">
        {% if category == 'template' or category == 'draft' %}
          <section class="item badge-new left">
            <div class="new-badge-placeholder"></div>
            {% if category == 'template' %}
              <h2>Create a Template</h2>
            {% else %}
              <h2>Create a New Draft</h2>
            {% endif %}
            <a href="{{ url('directory.addBadge') }}?category={{ category }}" class="btn blank-btn blank-btn-homepage">Start</a>
          </section>
        {% endif %}

        {% for badge in badges %}
          <section class="item badge-template left">
            <div class="badgethumb js-badgethumb" data-image="url('{{ badge.imageUrl | default(url('badge.image', { badgeId: badge.id })) }}')"></div>
            <h2>{{ badge.name }}</h2>
            <p class="small-copy">Status: {{ badge.status | default('active') | capitalize }}</p>
            <a href="{{ url('badge.edit', { badgeId: badge.id }) }}?category={{ category }}" class="edit-link block"><i class="fa fa-pencil"></i>Edit</a>
            <a href="{{ url('badge', { badgeId: badge.id }) }}?category={{ category }}" class="btn view-btn">View</a>
            {% if category == 'template' %}
              <a href="{{ url('directory.useTemplate') }}?templateId={{ badge.id }}" class="btn use-btn">Use</a>
            {% endif %}
            {% if category == 'published' %}
              <a href="" class="btn action-btn js-action-btn">Action<span class="arrow-down"></span></a>
              <ul class="action-dropdown js-action-dropdown">
                <a href=""><li>SHARE</li></a><hr>
                <a href=""><li>REVIEW APPLICATIONS</li></a>
                <a href="{{ url('badge.issueByEmail', {badgeId: badge.id }) }}"><li>ISSUE BY EMAIL</li></a>
                <hr>
                <a href="{{ url('badge.issueByClaimCode', {badgeId: badge.id }) }}"><li>ISSUE BY CLAIM CODE</li></a>
                <a href=""><li>VIEW CLAIM CODES</li></a>
                <hr>
                <a href="" class="js-copy-btn" data-url="{{ url('badge.copy', {badgeId: badge.id }) }}" data-csrf="{{ csrfToken }}"><li>COPY AS NEW</li></a>
                <a href="" class="js-archive-btn" data-url="{{ url('badge.archive', {badgeId: badge.id }) }}" data-csrf="{{ csrfToken }}"><li>ARCHIVE</li></a>
              </ul>
            {% endif %}
          </section>
        {% endfor %}
      </section>

    {% if pages > 1 %}
      <div class="pagenav cb">
        {% if page > 1 %}
          <a href="?category={{ category }}&page={{ page - 1 }}&sort={{ sort }}">Previous Page</a>
        {% endif %}
        {% if page < pages %}
          <a href="?category={{ category }}&page={{ page + 1 }}&sort={{ sort }}">Next Page</a>
        {% endif %}
      </div>
    {% endif %}
  </div>
{% endblock %}
